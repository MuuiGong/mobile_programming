# RÂ² ì°¨íŠ¸ êµ¬í˜„ í”„ë¡¬í”„íŠ¸ â€” BingX ìŠ¤íƒ€ì¼ TP/SL ë¼ì¸ (ì •í™•í•œ ìŠ¤í™)

## ğŸ¯ ëª©í‘œ: BingX ì°¨íŠ¸ TP/SL ê¸°ëŠ¥ ì¬í˜„

> **ëª©í‘œ:** BingX ê±°ë˜ ì°¨íŠ¸ì˜ **Entry(í˜„ì¬ê°€), TP(ìµì ˆ), SL(ì†ì ˆ) ë¼ì¸**ì„ ì •í™•íˆ ì¬í˜„í•©ë‹ˆë‹¤.  
> ì‚¬ìš©ìê°€ ë¼ì¸ì„ **ë“œë˜ê·¸**í•˜ê±°ë‚˜ **ìˆ«ìë¡œ ì…ë ¥**í•  ìˆ˜ ìˆê³ ,  
> ì‹¤ì‹œê°„ìœ¼ë¡œ **R:R ë¹„ìœ¨, P&L, ë¦¬ìŠ¤í¬ ë¹„ìœ¨** ë“±ì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

---

## ğŸ“ BingX ì°¨íŠ¸ TP/SL ë””ìì¸ ë¶„ì„

### í•µì‹¬ íŠ¹ì§• (BingX ì°¸ê³ )

1. **ë¼ì¸ ë Œë”ë§**
   - **ìˆ˜í‰ ì„ ** (ì–‡ê³  ëª…í™•í•¨, 1-2px)
   - **TP ë¼ì¸:** ì´ˆë¡ìƒ‰ (#00C853 ë˜ëŠ” ìœ ì‚¬)
   - **SL ë¼ì¸:** ë¹¨ê°„ìƒ‰ (#FF1744 ë˜ëŠ” ìœ ì‚¬)
   - **Entry ë¼ì¸:** í˜„ì¬ê°€ ë¼ì¸ (í°ìƒ‰ ë˜ëŠ” ì—°í•œ ìƒ‰)

2. **ë¼ì¸ì— ë¶™ì€ ì •ë³´ ë°•ìŠ¤**
   - **ì™¼ìª½ì— ë¼ë²¨ ë°•ìŠ¤** (TP, SL, í˜„ì¬ê°€ ë“±)
   - **ì˜¤ë¥¸ìª½ì— ê°€ê²© í‘œì‹œ** (ì˜ˆ: "$97800.66")
   - ë¼ì¸ ìƒ‰ìƒê³¼ ì¼ì¹˜í•˜ëŠ” ë°°ê²½ìƒ‰
   - ë¼ì¸ì„ ë”°ë¼ ìˆ˜ì§ìœ¼ë¡œ ì •ë ¬

3. **ë“œë˜ê·¸ ê¸°ëŠ¥**
   - ì‚¬ìš©ìê°€ ë¼ì¸ì„ **ìœ„ì•„ë˜ë¡œ í„°ì¹˜/ë“œë˜ê·¸**
   - ë“œë˜ê·¸ ì¤‘: ë¼ì¸ì´ **ì ì„ (dashed)** ë˜ëŠ” **ìƒ‰ìƒ ê°•ì¡°**ë¡œ ë³€ê²½
   - ë“œë˜ê·¸ ì¤‘: ì‹¤ì‹œê°„ìœ¼ë¡œ **ê°€ê²©ê³¼ R:R ì—…ë°ì´íŠ¸**
   - ë“œë˜ê·¸ ì¢…ë£Œ ì‹œ: ë¼ì¸ ìœ„ì¹˜ ìµœì¢… í™•ì •

4. **ìˆ«ì ì…ë ¥**
   - ì°¨íŠ¸ ì•„ë˜ **ì…ë ¥ í•„ë“œ**ì—ì„œ ì§ì ‘ ê°’ ì…ë ¥ ê°€ëŠ¥
   - ì…ë ¥ ì‹œ ë¼ì¸ì´ **ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë™**

5. **ì˜ì—­ ìƒ‰ìƒ**
   - **Entry-TP ì‚¬ì´:** ì´ˆë¡ìƒ‰ ë°˜íˆ¬ëª… ì˜ì—­ (ìˆ˜ìµ êµ¬ê°„ í‘œì‹œ)
   - **Entry-SL ì‚¬ì´:** ë¹¨ê°„ìƒ‰ ë°˜íˆ¬ëª… ì˜ì—­ (ì†ì‹¤ êµ¬ê°„ í‘œì‹œ)
   - ë¹„ìœ¨ë¡œ ë©´ì ì´ í‘œì‹œë¨ (R:R ì‹œê°í™”)

6. **ì •ë³´ í‘œì‹œ**
   - í¬ì§€ì…˜ ì •ë³´ (ì§„ì…ê°€, TP, SL)
   - R:R ë¹„ìœ¨ (í¬ê²Œ, ëˆˆì— ë„ê²Œ)
   - í˜„ì¬ P&L (ë˜ëŠ” ì˜ˆìƒ P&L)
   - ì§„ì… ê°€ëŠ¥ ì—¬ë¶€ í‘œì‹œ

---

## ğŸ”§ êµ¬í˜„ ìƒì„¸ ê°€ì´ë“œ

### A. Android Activity ë ˆì´ì•„ì›ƒ (activity_chart.xml)

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#0D1117">

    <!-- ìƒë‹¨ ë°” (ì½”ì¸ ì •ë³´) -->
    <LinearLayout
        android:id="@+id/topBar"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:background="#1C1F26"
        android:padding="12dp"
        app:layout_constraintTop_toTopOf="parent">

        <!-- ì½”ì¸ëª… + í˜„ì¬ê°€ -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginBottom="8dp">

            <TextView
                android:id="@+id/coinName"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="BITCOIN"
                android:textColor="@android:color/white"
                android:textSize="18sp"
                android:textStyle="bold" />

            <Space
                android:layout_width="0dp"
                android:layout_height="1dp"
                android:layout_weight="1" />

            <TextView
                android:id="@+id/currentPrice"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="$95957.44"
                android:textColor="#00C853"
                android:textSize="18sp"
                android:textStyle="bold" />
        </LinearLayout>

        <!-- ê°€ê²© ë³€í™” -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal">

            <TextView
                android:id="@+id/priceChange"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="+0.85%"
                android:textColor="#00C853"
                android:textSize="12sp" />

            <Space
                android:layout_width="0dp"
                android:layout_height="1dp"
                android:layout_weight="1" />

            <TextView
                android:id="@+id/priceChangeValue"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="+815.44 USDT"
                android:textColor="#00C853"
                android:textSize="12sp" />
        </LinearLayout>

        <!-- íƒ€ì„í”„ë ˆì„ ë²„íŠ¼ë“¤ -->
        <HorizontalScrollView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:scrollbars="none">

            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="40dp"
                android:orientation="horizontal"
                android:spacing="6dp">

                <Button
                    android:id="@+id/btn1M"
                    style="@style/TimeframeButton"
                    android:text="1M" />
                <Button
                    android:id="@+id/btn5M"
                    style="@style/TimeframeButton"
                    android:text="5M" />
                <Button
                    android:id="@+id/btn15M"
                    style="@style/TimeframeButton"
                    android:text="15M" />
                <Button
                    android:id="@+id/btn30M"
                    style="@style/TimeframeButton"
                    android:text="30M" />
                <Button
                    android:id="@+id/btn1H"
                    style="@style/TimeframeButton"
                    android:text="1H"
                    android:backgroundTint="#1E88E5" />
                <Button
                    android:id="@+id/btn4H"
                    style="@style/TimeframeButton"
                    android:text="4H" />
                <Button
                    android:id="@+id/btn1D"
                    style="@style/TimeframeButton"
                    android:text="1D" />
            </LinearLayout>
        </HorizontalScrollView>
    </LinearLayout>

    <!-- ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ (WebView) -->
    <FrameLayout
        android:id="@+id/chartContainer"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        app:layout_constraintTop_toBottomOf="@id/topBar"
        app:layout_constraintBottom_toTopOf="@id/controlPanel"
        android:background="#0D1117">

        <WebView
            android:id="@+id/tradingViewChart"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />
    </FrameLayout>

    <!-- í•˜ë‹¨ ì»¨íŠ¸ë¡¤ íŒ¨ë„ -->
    <LinearLayout
        android:id="@+id/controlPanel"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:background="#1C1F26"
        android:padding="16dp"
        app:layout_constraintBottom_toBottomOf="parent">

        <!-- R:R ë¹„ìœ¨ í° í‘œì‹œ -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:background="@drawable/r2_ratio_bg"
            android:padding="12dp"
            android:layout_marginBottom="12dp">

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="R:R ë¹„ìœ¨"
                android:textColor="#9E9E9E"
                android:textSize="12sp" />

            <TextView
                android:id="@+id/rrRatioDisplay"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="R:R 1.00:1"
                android:textColor="#FF9800"
                android:textSize="20sp"
                android:textStyle="bold" />
        </LinearLayout>

        <!-- Entry, TP, SL ì…ë ¥ í•„ë“œ -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:spacing="8dp">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ì§„ì…ê°€"
                    android:textColor="#757575"
                    android:textSize="10sp"
                    android:layout_marginBottom="4dp" />

                <EditText
                    android:id="@+id/entryInput"
                    android:layout_width="match_parent"
                    android:layout_height="44dp"
                    android:background="@drawable/input_bg"
                    android:text="95883.0"
                    android:textColor="@android:color/white"
                    android:textSize="14sp"
                    android:paddingStart="12dp"
                    android:paddingEnd="12dp"
                    android:inputType="numberDecimal"
                    android:gravity="center_vertical" />
            </LinearLayout>

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ìµì ˆ(TP)"
                    android:textColor="#757575"
                    android:textSize="10sp"
                    android:layout_marginBottom="4dp" />

                <EditText
                    android:id="@+id/tpInput"
                    android:layout_width="match_parent"
                    android:layout_height="44dp"
                    android:background="@drawable/input_bg"
                    android:text="97800.66"
                    android:textColor="@android:color/white"
                    android:textSize="14sp"
                    android:paddingStart="12dp"
                    android:paddingEnd="12dp"
                    android:inputType="numberDecimal"
                    android:gravity="center_vertical" />
            </LinearLayout>

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ì†ì ˆ(SL)"
                    android:textColor="#757575"
                    android:textSize="10sp"
                    android:layout_marginBottom="4dp" />

                <EditText
                    android:id="@+id/slInput"
                    android:layout_width="match_parent"
                    android:layout_height="44dp"
                    android:background="@drawable/input_bg"
                    android:text="93965.34"
                    android:textColor="@android:color/white"
                    android:textSize="14sp"
                    android:paddingStart="12dp"
                    android:paddingEnd="12dp"
                    android:inputType="numberDecimal"
                    android:gravity="center_vertical" />
            </LinearLayout>
        </LinearLayout>

        <!-- ê±°ë˜ ì •ë³´ ìš”ì•½ -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:layout_marginTop="12dp"
            android:background="@drawable/info_bg"
            android:padding="12dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal">

                <TextView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="í˜„ì¬ P&amp;L"
                    android:textColor="#9E9E9E"
                    android:textSize="12sp" />

                <TextView
                    android:id="@+id/currentPnL"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="+74.44 USDT"
                    android:textColor="#00C853"
                    android:textSize="12sp"
                    android:textStyle="bold" />
            </LinearLayout>

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:layout_marginTop="6dp">

                <TextView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="ìœ„í—˜ë„"
                    android:textColor="#9E9E9E"
                    android:textSize="12sp" />

                <TextView
                    android:id="@+id/riskLevel"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Moderate"
                    android:textColor="#FF9800"
                    android:textSize="12sp"
                    android:textStyle="bold" />
            </LinearLayout>
        </LinearLayout>

        <!-- ê±°ë˜ ì‹¤í–‰ ë²„íŠ¼ -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:spacing="8dp"
            android:layout_marginTop="12dp">

            <Button
                android:id="@+id/btnLong"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="ë¡± ì§„ì…"
                android:textColor="@android:color/white"
                android:textSize="14sp"
                android:backgroundTint="#00C853" />

            <Button
                android:id="@+id/btnShort"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="ìˆ ì§„ì…"
                android:textColor="@android:color/white"
                android:textSize="14sp"
                android:backgroundTint="#FF1744" />
        </LinearLayout>
    </LinearLayout>

</androidx.constraintlayout.widget.ConstraintLayout>
```

---

### B. Drawable ë¦¬ì†ŒìŠ¤

#### drawable/input_bg.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="#2C2F36" />
    <corners android:radius="6dp" />
    <stroke
        android:width="1dp"
        android:color="#424242" />
</shape>
```

#### drawable/r2_ratio_bg.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="#2C2F36" />
    <corners android:radius="8dp" />
    <stroke
        android:width="1dp"
        android:color="#FF9800" />
</shape>
```

#### drawable/info_bg.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="#1C1F26" />
    <corners android:radius="8dp" />
    <stroke
        android:width="1dp"
        android:color="#424242" />
</shape>
```

---

### C. TradingView ì°¨íŠ¸ HTML (assets/tradingview_chart.html)

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÂ² Trading Chart</title>
    <script src="https://unpkg.com/lightweight-charts@4/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0D1117;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        #chartContainer {
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* ë¼ì¸ ë¼ë²¨ ìŠ¤íƒ€ì¼ */
        .line-label {
            position: absolute;
            background-color: #00C853;
            color: white;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
            display: none;
            z-index: 100;
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
        }

        .line-label.tp {
            background-color: #00C853;
        }

        .line-label.sl {
            background-color: #FF1744;
        }

        .line-label.entry {
            background-color: #9E9E9E;
        }

        /* ë“œë˜ê·¸ ì¤‘ í™œì„±í™” */
        .line-label.dragging {
            opacity: 0.8;
            transform: scale(1.1);
        }

        /* ê°€ê²© íˆ´íŒ */
        .price-tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: bold;
            display: none;
            z-index: 150;
            pointer-events: none;
        }

        /* ì •ë³´ ì˜¤ë²„ë ˆì´ */
        .info-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.8);
            border: 1px solid #424242;
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 11px;
            z-index: 90;
            max-width: 200px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
            line-height: 1.4;
        }

        .info-label {
            color: #9E9E9E;
            margin-right: 10px;
        }

        .info-value {
            color: white;
            font-weight: bold;
            text-align: right;
        }

        .info-value.positive {
            color: #00C853;
        }

        .info-value.negative {
            color: #FF1744;
        }

        .info-value.orange {
            color: #FF9800;
        }
    </style>
</head>
<body>
    <div id="chartContainer"></div>
    
    <!-- ë¼ì¸ ë¼ë²¨ë“¤ -->
    <div class="line-label entry" id="entryLabel">Entry</div>
    <div class="line-label tp" id="tpLabel">TP</div>
    <div class="line-label sl" id="slLabel">SL</div>
    
    <!-- ê°€ê²© íˆ´íŒ -->
    <div class="price-tooltip" id="priceTooltip"></div>
    
    <!-- ì •ë³´ ì˜¤ë²„ë ˆì´ -->
    <div class="info-overlay" id="infoOverlay"></div>

    <script>
        // ============= ì°¨íŠ¸ ì´ˆê¸°í™” =============
        const container = document.getElementById('chartContainer');
        const chart = LightweightCharts.createChart(container, {
            layout: {
                background: { color: '#0D1117' },
                textColor: '#BDBDBD',
            },
            grid: {
                vertLines: { color: '#1C1F26' },
                horzLines: { color: '#1C1F26' },
            },
            timeScale: {
                timeVisible: true,
                secondsVisible: false,
                borderColor: '#2C2F36',
            },
            rightPriceScale: {
                borderColor: '#2C2F36',
            },
            width: container.offsetWidth,
            height: container.offsetHeight,
        });

        // ìº”ë“¤ìŠ¤í‹± ì‹œë¦¬ì¦ˆ
        const candleSeries = chart.addCandlestickSeries({
            upColor: '#26a69a',
            downColor: '#ef5350',
            borderDownColor: '#ef5350',
            borderUpColor: '#26a69a',
            wickDownColor: '#ef5350',
            wickUpColor: '#26a69a',
        });

        // ìƒ˜í”Œ ë°ì´í„°
        const data = generateCandleData();
        candleSeries.setData(data);
        chart.timeScale().fitContent();

        // ============= ë¼ì¸ ë°ì´í„° =============
        let lineData = {
            entry: 95883.00,
            tp: 97800.66,
            sl: 93965.34,
        };

        let lineSeries = {
            entry: null,
            tp: null,
            sl: null,
        };

        let areaSeriesList = [];

        // ============= ë“œë˜ê·¸ ìƒíƒœ ê´€ë¦¬ =============
        let isDragging = false;
        let draggingLineType = null;
        const DRAG_THRESHOLD = 50; // px

        // ============= ë¼ì¸ ë Œë”ë§ í•¨ìˆ˜ =============
        function renderLines() {
            // ê¸°ì¡´ ì‹œë¦¬ì¦ˆ ì œê±°
            if (lineSeries.entry) chart.removeSeries(lineSeries.entry);
            if (lineSeries.tp) chart.removeSeries(lineSeries.tp);
            if (lineSeries.sl) chart.removeSeries(lineSeries.sl);
            areaSeriesList.forEach(s => chart.removeSeries(s));
            areaSeriesList = [];

            // TPì™€ Entry ì‚¬ì´ ì´ˆë¡ ì˜ì—­
            const profitArea = chart.addAreaSeries({
                topColor: 'rgba(0, 200, 83, 0.2)',
                bottomColor: 'rgba(0, 200, 83, 0.05)',
                lineColor: 'transparent',
                lineWidth: 0,
            });
            profitArea.setData([
                { time: data[0].time, value: Math.max(lineData.tp, lineData.entry) },
                { time: data[data.length - 1].time, value: Math.max(lineData.tp, lineData.entry) },
                { time: data[data.length - 1].time, value: Math.min(lineData.tp, lineData.entry) },
                { time: data[0].time, value: Math.min(lineData.tp, lineData.entry) },
            ]);
            areaSeriesList.push(profitArea);

            // SLê³¼ Entry ì‚¬ì´ ë¹¨ê°• ì˜ì—­
            const lossArea = chart.addAreaSeries({
                topColor: 'rgba(255, 23, 68, 0.2)',
                bottomColor: 'rgba(255, 23, 68, 0.05)',
                lineColor: 'transparent',
                lineWidth: 0,
            });
            lossArea.setData([
                { time: data[0].time, value: Math.max(lineData.entry, lineData.sl) },
                { time: data[data.length - 1].time, value: Math.max(lineData.entry, lineData.sl) },
                { time: data[data.length - 1].time, value: Math.min(lineData.entry, lineData.sl) },
                { time: data[0].time, value: Math.min(lineData.entry, lineData.sl) },
            ]);
            areaSeriesList.push(lossArea);

            // Entry ë¼ì¸
            lineSeries.entry = chart.addLineSeries({
                color: '#9E9E9E',
                lineWidth: 2,
            });
            lineSeries.entry.setData([
                { time: data[0].time, value: lineData.entry },
                { time: data[data.length - 1].time, value: lineData.entry },
            ]);

            // TP ë¼ì¸ (ë“œë˜ê·¸ ì¤‘ ì ì„ )
            lineSeries.tp = chart.addLineSeries({
                color: '#00C853',
                lineWidth: isDragging && draggingLineType === 'tp' ? 3 : 2,
                lineStyle: isDragging && draggingLineType === 'tp' ? 1 : 0,
            });
            lineSeries.tp.setData([
                { time: data[0].time, value: lineData.tp },
                { time: data[data.length - 1].time, value: lineData.tp },
            ]);

            // SL ë¼ì¸ (ë“œë˜ê·¸ ì¤‘ ì ì„ )
            lineSeries.sl = chart.addLineSeries({
                color: '#FF1744',
                lineWidth: isDragging && draggingLineType === 'sl' ? 3 : 2,
                lineStyle: isDragging && draggingLineType === 'sl' ? 1 : 0,
            });
            lineSeries.sl.setData([
                { time: data[0].time, value: lineData.sl },
                { time: data[data.length - 1].time, value: lineData.sl },
            ]);

            updateLabelPositions();
            updateInfoOverlay();
        }

        // ============= ë¼ë²¨ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ =============
        function updateLabelPositions() {
            const entryY = chart.priceToCoordinate(lineData.entry);
            const tpY = chart.priceToCoordinate(lineData.tp);
            const slY = chart.priceToCoordinate(lineData.sl);

            const offset = 20;

            if (entryY !== null) {
                document.getElementById('entryLabel').style.top = (entryY - 12) + 'px';
                document.getElementById('entryLabel').style.left = offset + 'px';
                document.getElementById('entryLabel').style.display = 'block';
                document.getElementById('entryLabel').textContent = `Entry: $${lineData.entry.toFixed(2)}`;
            }

            if (tpY !== null) {
                document.getElementById('tpLabel').style.top = (tpY - 12) + 'px';
                document.getElementById('tpLabel').style.left = offset + 'px';
                document.getElementById('tpLabel').style.display = 'block';
                document.getElementById('tpLabel').textContent = `TP: $${lineData.tp.toFixed(2)}`;
            }

            if (slY !== null) {
                document.getElementById('slLabel').style.top = (slY - 12) + 'px';
                document.getElementById('slLabel').style.left = offset + 'px';
                document.getElementById('slLabel').style.display = 'block';
                document.getElementById('slLabel').textContent = `SL: $${lineData.sl.toFixed(2)}`;
            }
        }

        // ============= ì •ë³´ ì˜¤ë²„ë ˆì´ ì—…ë°ì´íŠ¸ =============
        function updateInfoOverlay() {
            const rrRatio = (lineData.tp - lineData.entry) / (lineData.entry - lineData.sl);
            const pnl = 100 * (rrRatio - 1); // ê°€ì •ì˜ ê³„ì‚°

            let html = `
                <div class="info-row">
                    <span class="info-label">Entry:</span>
                    <span class="info-value">$${lineData.entry.toFixed(2)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">TP:</span>
                    <span class="info-value">$${lineData.tp.toFixed(2)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">SL:</span>
                    <span class="info-value">$${lineData.sl.toFixed(2)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">R:R:</span>
                    <span class="info-value orange">${rrRatio.toFixed(2)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">ìœ„í—˜ë„:</span>
                    <span class="info-value ${pnl > 0 ? 'positive' : 'negative'}">
                        ${pnl > 0 ? '+' : ''}${pnl.toFixed(2)}%
                    </span>
                </div>
            `;
            document.getElementById('infoOverlay').innerHTML = html;
        }

        // ============= ë“œë˜ê·¸ í•¸ë“¤ëŸ¬ =============
        container.addEventListener('mousedown', startDrag);
        container.addEventListener('touchstart', startDrag);

        function startDrag(e) {
            const y = getEventY(e);
            const price = chart.coordinateToPrice(y);

            if (!price) return;

            const threshold = Math.abs(lineData.entry) * 0.001; // Â±0.1%

            if (Math.abs(price - lineData.tp) < threshold) {
                isDragging = true;
                draggingLineType = 'tp';
            } else if (Math.abs(price - lineData.sl) < threshold) {
                isDragging = true;
                draggingLineType = 'sl';
            }

            if (isDragging) {
                renderLines();
            }
        }

        document.addEventListener('mousemove', handleDrag);
        document.addEventListener('touchmove', handleDrag);

        function handleDrag(e) {
            if (!isDragging || !draggingLineType) return;

            const y = getEventY(e);
            const price = chart.coordinateToPrice(y);

            if (price) {
                lineData[draggingLineType] = price;

                // íˆ´íŒ í‘œì‹œ
                const tooltip = document.getElementById('priceTooltip');
                tooltip.textContent = `$${price.toFixed(2)}`;
                tooltip.style.top = (y - 30) + 'px';
                const clientX = e.clientX || e.touches?.[0]?.clientX || 0;
                tooltip.style.left = (clientX + 20) + 'px';
                tooltip.style.display = 'block';

                renderLines();

                // Androidë¡œ ì•Œë¦¼
                if (window.AndroidBridge) {
                    window.AndroidBridge.onLineUpdated(draggingLineType, price);
                }
            }
        }

        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchend', endDrag);

        function endDrag() {
            if (isDragging) {
                isDragging = false;
                draggingLineType = null;
                document.getElementById('priceTooltip').style.display = 'none';
                renderLines();
            }
        }

        function getEventY(e) {
            const rect = container.getBoundingClientRect();
            if (e.touches) {
                return e.touches[0].clientY - rect.top;
            }
            return e.clientY - rect.top;
        }

        // ============= Android ì¸í„°í˜ì´ìŠ¤ =============
        window.updateLines = function(entry, tp, sl) {
            lineData.entry = entry;
            lineData.tp = tp;
            lineData.sl = sl;
            renderLines();
        };

        // ============= ì´ˆê¸° ë Œë”ë§ ë° ë¦¬ì‚¬ì´ì¦ˆ =============
        renderLines();

        window.addEventListener('resize', () => {
            chart.applyOptions({
                width: container.offsetWidth,
                height: container.offsetHeight,
            });
            updateLabelPositions();
        });

        if (window.AndroidBridge) {
            window.AndroidBridge.ready();
        }

        // ============= ìƒ˜í”Œ ë°ì´í„° ìƒì„± =============
        function generateCandleData() {
            const basePrice = 95000;
            const result = [];
            const now = Math.floor(Date.now() / 1000);

            for (let i = 0; i < 150; i++) {
                const time = now - (150 - i) * 3600;
                const volatility = Math.random() * 2000 - 1000;
                const open = basePrice + volatility;
                const close = open + (Math.random() * 1500 - 750);
                const high = Math.max(open, close) + Math.random() * 800;
                const low = Math.min(open, close) - Math.random() * 800;

                result.push({
                    time: time,
                    open,
                    high,
                    low,
                    close,
                });
            }

            return result;
        }
    </script>
</body>
</html>
```

---

### D. Java ViewModel

```java
public class ChartViewModel extends ViewModel {
    private MutableLiveData<Double> entryPrice = new MutableLiveData<>(95883.0);
    private MutableLiveData<Double> tpPrice = new MutableLiveData<>(97800.66);
    private MutableLiveData<Double> slPrice = new MutableLiveData<>(93965.34);
    private MutableLiveData<Double> currentPrice = new MutableLiveData<>(95957.44);

    private MutableLiveData<Double> rrRatio = new MutableLiveData<>(0.0);
    private MutableLiveData<Double> pnl = new MutableLiveData<>(0.0);
    private MutableLiveData<String> riskLevel = new MutableLiveData<>("Moderate");

    public LiveData<Double> getEntryPrice() { return entryPrice; }
    public LiveData<Double> getTpPrice() { return tpPrice; }
    public LiveData<Double> getSlPrice() { return slPrice; }
    public LiveData<Double> getRrRatio() { return rrRatio; }
    public LiveData<Double> getPnl() { return pnl; }
    public LiveData<String> getRiskLevel() { return riskLevel; }

    public void setEntryPrice(double price) {
        entryPrice.setValue(price);
        calculateMetrics();
    }

    public void setTpPrice(double price) {
        tpPrice.setValue(price);
        calculateMetrics();
    }

    public void setSlPrice(double price) {
        slPrice.setValue(price);
        calculateMetrics();
    }

    private void calculateMetrics() {
        double entry = entryPrice.getValue() != null ? entryPrice.getValue() : 0;
        double tp = tpPrice.getValue() != null ? tpPrice.getValue() : 0;
        double sl = slPrice.getValue() != null ? slPrice.getValue() : 0;

        if (entry != 0 && entry != sl) {
            double ratio = (tp - entry) / (entry - sl);
            rrRatio.setValue(Math.max(ratio, 0.01));

            // ìœ„í—˜ë„ í‰ê°€
            String risk = "Low";
            if (ratio < 0.5) risk = "High";
            else if (ratio < 1.0) risk = "Moderate";
            else if (ratio >= 2.0) risk = "Low";

            riskLevel.setValue(risk);
        }
    }
}
```

---

## âœ… BingX ìŠ¤íƒ€ì¼ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **ë¼ì¸ ë Œë”ë§:** ì´ˆë¡(TP), ë¹¨ê°•(SL), íšŒìƒ‰(Entry) ì–‡ì€ ì„ 
- [ ] **ë¼ì¸ ë¼ë²¨:** ë¼ì¸ ëì— ê°€ê²© í‘œì‹œí•˜ëŠ” ë¼ë²¨ (ë“œë˜ê·¸ ê°€ëŠ¥)
- [ ] **ì˜ì—­ ìƒ‰ìƒ:** Entry-TP(ì´ˆë¡), Entry-SL(ë¹¨ê°•) ë°˜íˆ¬ëª…
- [ ] **ë“œë˜ê·¸ ê¸°ëŠ¥:** ë§ˆìš°ìŠ¤/í„°ì¹˜ë¡œ ë¼ì¸ ì´ë™, ì ì„  í‘œì‹œ
- [ ] **ê°€ê²© íˆ´íŒ:** ë“œë˜ê·¸ ì¤‘ ì‹¤ì‹œê°„ ê°€ê²© í‘œì‹œ
- [ ] **ì •ë³´ ì˜¤ë²„ë ˆì´:** ìš°ìƒë‹¨ì— Entry, TP, SL, R:R í‘œì‹œ
- [ ] **ì…ë ¥ í•„ë“œ:** ìˆ«ì ì…ë ¥ ì‹œ ë¼ì¸ ì‹¤ì‹œê°„ ì´ë™
- [ ] **R:R ê³„ì‚°:** ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë° í‘œì‹œ
- [ ] **ìœ„í—˜ë„ í‰ê°€:** Low/Moderate/High í‘œì‹œ

---

## ğŸ¯ BingXì™€ì˜ ì£¼ìš” ì°¨ì´ì  ë°˜ì˜

1. **ë¼ì¸ì´ ëª…í™•í•œ ê°€ê²© í‘œì‹œ:** ê° ë¼ì¸ì— ì •í™•í•œ ê°€ê²© í‘œì‹œ (ì˜ˆ: "Entry: $95883.00")
2. **ì˜ì—­ ìƒ‰ìƒí™”:** ìˆ˜ìµ/ë¦¬ìŠ¤í¬ ì˜ì—­ì´ ëª…í™•í•˜ê²Œ êµ¬ë¶„
3. **ì •ë³´ ì˜¤ë²„ë ˆì´:** ì°¨íŠ¸ ìš°ìƒë‹¨ì— ëª¨ë“  ê±°ë˜ ì •ë³´ í•œëˆˆì— í‘œì‹œ
4. **ì§ê´€ì  ë“œë˜ê·¸:** ë¼ì¸ì„ í„°ì¹˜í•˜ë©´ ì¦‰ì‹œ ë°˜ì‘
5. **ì‹¤ì‹œê°„ ê³„ì‚°:** R:R, ìœ„í—˜ë„ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°±ì‹ 

