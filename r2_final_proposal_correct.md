# R² (Risk and Reward) — 리스크 감각 트레이닝 앱 최종 제안서

---

## 📌 1. 프로젝트 개요

### 1.1 프로젝트명
**R² (Risk and Reward) — 리스크 관리 능력 훈련 모바일 앱**

### 1.2 핵심 목표
- **"수익이 아닌 리스크 관리"** — 장기적 거래 성공의 핵심 능력 배양
- 초보 거래자들의 **감정적 거래, 손실 회피 심리, 충동적 오버트레이딩** 교정
- 실제 금전 손실 없이 **현실과 동일한 거래 경험** 제공

### 1.3 대상 사용자
| 유형 | 특징 | 목표 |
|------|------|------|
| **완전 초보** | 거래 경험 없음 | 기본 개념, 자금 관리 학습 |
| **입문자** | 1~3개월 경험 | 리스크 감각 개발, 심리 교정 |
| **중급자** | 3~12개월 | 전략 검증, 행동 패턴 분석 |
| **전문가** | 1년 이상 | 새로운 시스템 백테스팅 |

---

## 🎯 2. R²만의 차별성

### 기존 거래 앱의 한계
```
❌ 수익 중심 (손실 유발)
❌ 감정적 거래 조장
❌ 리스크 관리 무시
❌ 심리 분석 부재
```

### R²의 해결책
```
✅ 리스크 관리 능력 중심
✅ 행동 피드백 시스템
✅ 실시간 Risk Score
✅ AI 코치 (행동 분석)
✅ 감정 저널 (심리 추적)
✅ Monte Carlo 시뮬레이션
```

---

## 🏗️ 3. 시스템 아키텍처

### 3.1 기술 스택
| 계층 | 기술 |
|------|------|
| **UI** | Java (Activity/Fragment) + TDS Design System |
| **Layout** | XML (ConstraintLayout, CardView) |
| **차트** | TradingView Advanced Charts (WebView) |
| **데이터베이스** | Room (SQLite) |
| **API** | CoinGecko (Retrofit2) |
| **실시간** | WebSocket + Handler |
| **알림** | NotificationManager |

### 3.2 데이터 흐름
```
CoinGecko API (시세)
         ↓
    Retrofit2
         ↓
ViewModel (LiveData)
         ↓
Activity/Fragment (UI)
         ↓
Room Database (저장)
```

---

## 📊 4. 주요 기능 설계

### 4.1 대시보드 화면
```
┌──────────────────────────┐
│  R² 리스크 트레이닝      │
├──────────────────────────┤
│                          │
│ 💰 계정 현황            │
│   잔고: $10,000         │
│   누적: +$250.50 (+2.5%)│
│                          │
│ ⚠️ Risk Score           │
│   75/100 ★★★★☆        │
│   (0-30: 위험, 31-70: 주의,│
│    71-100: 안정)        │
│                          │
│ 📈 활성 포지션: 2개     │
│ [BTCUSDT 5x] [ETHUSDT]  │
│                          │
│ 🎯 오늘의 성과          │
│   거래: 5회 | 승률: 60% │
│   총 수익: +$250.50     │
│                          │
│ [+ 새 거래] [기록] [분석]│
└──────────────────────────┘
```

### 4.2 거래 실행 화면
```
[TradingView 차트]
  ├─ Entry/TP/SL 라인 드래그
  └─ 실시간 R:R 비율

[거래 제어판]
  ├─ Entry 가격 입력
  ├─ TP/SL 자동 설정
  ├─ 레버리지 선택 (1x~20x)
  ├─ 거래 크기 자동 계산
  └─ Risk Score 실시간 표시

[자동 종료]
  ├─ TP 도달 → 자동 익절
  ├─ SL 도달 → 자동 손절
  └─ 알림 + 기록 저장
```

### 4.3 리스크 평가 시스템

#### Risk Score 공식
```
Score = 100 - (0.4×Volatility + 0.4×MDD + 0.2×NegativeSharpe)

Volatility: 표준편차 (수익의 변동성)
MDD: Maximum Drawdown (최대 낙폭)
Sharpe Ratio: 위험대비 수익률
```

#### 실시간 피드백
```
Risk Score 변화:
  ├─ 0~30 (🔴 위험): 즉시 경고
  ├─ 31~70 (🟡 주의): 신중 권고
  └─ 71~100 (🟢 안정): 좋음

발생 조건:
  ├─ 과도한 레버리지
  ├─ 나쁜 R:R 비율
  ├─ 높은 손실 빈도
  └─ 큰 드로다운
```

### 4.4 행동 분석 & AI 코치

#### 감지되는 패턴
```
⚠️ 위험한 행동
  ├─ Overtrading (과도한 거래)
  ├─ Loss Aversion (손실 회복 시도)
  ├─ Impulsive Entry (충동적 진입)
  ├─ Moving Stop-Loss (손절 변경)
  └─ 연속 손실 후 큰 거래

✅ 좋은 습관
  ├─ 계획된 거래
  ├─ 수립된 R:R 준수
  ├─ 손실 제한 지키기
  └─ 일관된 전략
```

#### AI 코치 피드백
```
"최근 3거래가 모두 손절입니다.
더 큰 SL 범위를 고려하세요."

"R:R 비율이 0.8:1입니다.
최소 1.0:1 이상을 유지하세요."

"좋은 진입입니다!
이런 R:R 설정을 유지하세요."
```

### 4.5 시뮬레이션 (Monte Carlo)

#### 기능
```
현재 R:R 설정으로 100회 시뮬레이션
  ├─ 임의의 가격 움직임 생성
  ├─ 설정된 TP/SL 적용
  └─ 결과 분석

산출 결과:
  ├─ 기대 수익 (Expected Value)
  ├─ 승률 분포
  ├─ 최대 손실 (Worst Case)
  ├─ Sharpe Ratio
  └─ 신뢰도 (Confidence Interval)
```

---

## 💾 5. 데이터 구조

### 5.1 핵심 엔티티
```
User
├─ userId (PK)
├─ nickname
├─ initialBalance
└─ createdAt

Position (활성 포지션)
├─ positionId (PK)
├─ symbol (BTCUSDT)
├─ entryPrice
├─ tp, sl, leverage
├─ tradeSize
├─ entryTime
└─ status (OPEN/CLOSED)

Trade (거래 기록)
├─ tradeId (PK)
├─ symbol, timeframe
├─ entryPrice, entryTime
├─ tp, sl, leverage
├─ exitPrice, exitTime
├─ exitReason (TP/SL/MARGIN)
├─ pnl, pnlPercent
├─ rrRatio
└─ status (CLOSED)

Journal (감정 기록)
├─ journalId (PK)
├─ tradeId (FK)
├─ emotion (불안/집중/욕심)
├─ memo
└─ createdAt
```

---

## 📱 6. UI/UX 시나리오 (상세)

### 6.1 사용자 여정 (User Journey)

```
1️⃣ 로그인/초기 설정
   ├─ 계정 생성
   ├─ 초기 잔고 설정 ($10,000)
   ├─ 거래 모드 선택 (현물/선물)
   └─ 위험 관리 옵션 설정

2️⃣ 대시보드 진입
   ├─ 계정 현황 확인
   ├─ Risk Score 확인
   └─ 활성 포지션 모니터링

3️⃣ 거래 실행
   ├─ "새 거래" 클릭
   ├─ 차트에서 Entry/TP/SL 설정
   ├─ R:R 비율 확인
   ├─ Risk Score 최종 확인
   └─ "거래 진입" 클릭

4️⃣ 자동 모니터링
   ├─ 실시간 가격 업데이트
   ├─ P&L 계산
   ├─ TP/SL 도달 감지
   └─ 자동 종료 + 알림

5️⃣ 거래 리뷰 & 분석
   ├─ 감정 저널 작성
   ├─ 거래 기록 조회
   ├─ AI 코치 피드백 받기
   └─ 통계 분석
```

### 6.2 화면별 설계 (TDS 다크 모드)

#### 주요 색상 (TDS)
```
배경: #050A0E (Deep Dark)
카드: #0D1117 (Dark)
텍스트 주: #FFFFFF (White)
텍스트 보조: #9CA3AF (Gray)
강조: #1E40AF (Blue)
성공: #059669 (Green)
주의: #DC2626 (Red)
```

---

## 🎬 7. 개발 일정

### Phase별 계획

| Phase | 기간 | 작업 |
|-------|------|------|
| **1. UI 설계** | 1주 | XML Layout, TDS 적용 |
| **2. 데이터층** | 2주 | Room DB, API 연동 |
| **3. 거래 엔진** | 2주 | TradeEngine, 계산 로직 |
| **4. UI 구현** | 2주 | Activity, 실시간 업데이트 |
| **5. 고급 기능** | 2주 | AI 코치, 시뮬레이션 |
| **6. 테스트** | 1주 | 단위/UI 테스트 |

**전체: 약 10주**

---

## ✅ 8. 성공 지표

### 기술적 지표
- ✅ 거래 자동 종료 정확도: 100%
- ✅ 실시간 Risk Score 업데이트: <1초
- ✅ 앱 크래시 0건
- ✅ 데이터 손실 0건

### 사용자 지표
- ✅ 초보자의 손실액 30% 감소
- ✅ 위험 관리 규칙 준수율 80%
- ✅ 사용자 만족도 4.5/5.0

### 교육 효과
- ✅ Risk Score 이해도 90%
- ✅ 행동 패턴 인식 85%
- ✅ 리스크 감각 개선 70%

---

## 📋 9. 결론

**R²는 "수익"이 아닌 "리스크 관리"에 중점을 둔 혁신적 거래 훈련 앱입니다.**

### 핵심 가치
1. **심리 교정:** 감정적 거래 패턴 인식 및 개선
2. **능력 배양:** 리스크 감각 실전 훈련
3. **안전한 학습:** 실제 손실 없이 경험 축적
4. **과학적 분석:** 정량적 지표 기반 피드백

### 기대 효과
- 초보자의 성공률 증가
- 장기적 거래 수익성 개선
- 거래 심리학 이해도 향상
- 리스크 관리 규율 형성

---

**R²와 함께 진정한 거래 마스터가 되세요!** 🚀

